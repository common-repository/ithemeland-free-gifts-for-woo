"use strict";function paginationInit(c,b,a){if(c.html(""),b<3){for(let d=1;d<=Math.min(parseInt(3),parseInt(a));d++){let g=parseInt(b)==d?"wgb-active-page":"";c.append("<a href='javascript:;' class='pw_gift_pagination_num "+g+"' data-page-id='page_"+d+"'> "+d+" </a>")}a>parseInt(3)+1&&c.append("<span> ... </span>"),parseInt(b)+2<=parseInt(a)&&parseInt(a)>parseInt(3)&&c.append("<a href='javascript:;' class='pw_gift_pagination_num' data-page-id='page_"+a+"'> "+a+" </a>")}else if(3==b){let h=3<a?parseInt(3)+1:3;for(let e=1;e<=h;e++){let i=b==e?"wgb-active-page":"";c.append("<a href='javascript:;' class='pw_gift_pagination_num "+i+"' data-page-id='page_"+e+"'> "+e+" </a>")}if(a>parseInt(b)+1){let j=b==a?"wgb-active-page":"";c.append("<span> ... </span>"),c.append("<a href='javascript:;' class='pw_gift_pagination_num "+j+"' data-page-id='page_"+a+"'> "+a+" </a>")}}else{let k=1===parseInt(b)?"wgb-active-page":"";c.append("<a href='javascript:;' class='pw_gift_pagination_num "+k+"' data-page-id='page_1'>1</a>"),parseInt(b)>parseInt(3)+1&&c.append("<span> ... </span>");for(let f=parseInt(b)-2;f<=Math.min(parseInt(b)+2,parseInt(a));f++){let l=b==f?"wgb-active-page":"";c.append("<a href='javascript:;' class='pw_gift_pagination_num "+l+"' data-page-id='page_"+f+"'> "+f+" </a>")}if(parseInt(b)+2<parseInt(a)){let m=b==a?"wgb-active-page":"";c.append("<span> ... </span>"),c.append("<a href='javascript:;' class='pw_gift_pagination_num "+m+"' data-page-id='page_"+a+"'> "+a+" </a>")}}}jQuery(document).ready(function($){function a(b){if(""==b)return!1;var a=pw_wc_gift_adv_ajax.add_to_cart_link;a=a.replace("%s",b),window.location.href=a}jQuery("html").find(".it-gift-products-table").length>0&&jQuery.fn.DataTable&&(jQuery(".it-gift-products-table").DataTable({ordering:!1}),jQuery(".scrollbar-macosx").scrollbar()),jQuery(document.body).on("updated_cart_totals",function(){jQuery("html").find(".it-gift-products-table").length>0&&jQuery.fn.DataTable&&jQuery(".it-gift-products-table").DataTable({ordering:!1})}),jQuery("html").find("#wgb-gift-products-dropdown").length>0&&jQuery("#wgb-gift-products-dropdown").ddslick({selectText:pw_wc_gift_adv_ajax.select_your_gift,imagePosition:"left",onSelected:function(b){b.selectedData&&""!=b.selectedData&&a(b.selectedData.value)}}),jQuery(document.body).on("updated_cart_totals",function(){jQuery("html").find("#wgb-gift-products-dropdown").length>0&&(jQuery("#wgb-gift-products-dropdown").ddslick("destroy"),jQuery("#wgb-gift-products-dropdown").ddslick({imagePosition:"left",selectText:pw_wc_gift_adv_ajax.select_your_gift,onSelected:function(b){b.selectedData&&""!=b.selectedData&&a(b.selectedData.value)}}))}),jQuery(document).on("click",".btn-add-gift-button",function(b){jQuery(this).css({color:"transparent"}),jQuery(".gift_cart_ajax").show(),jQuery(this).find(".wgb-loading-icon").removeClass("wgb-d-none"),b.preventDefault(),a(jQuery(this).data("id"))}),jQuery(document).on("click",".btn-select-gift-button",function(a){a.preventDefault(),jQuery(this).find(".wgb-loading-icon").removeClass("wgb-d-none"),$("body").append('<div id="wgb-modal" class="wgb-popup"><div class="wgb-page wgb-popup-box"><div class="wgb-popup-header"><h3 class="wgb-popup-title">Select Gift</h3><button type="button" class="wgb-popup-close"><i class="dashicons dashicons-no-alt"></i></button></div><div class="wgb-popup-body"><div class="wgb-popup-content"><div class="wgb-popup-posts"></div></div></div></div></div>'),$("#wgb-modal").css("display","block"),$.ajax({url:pw_wc_gift_adv_ajax.ajaxurl,type:"POST",data:{action:pw_wc_gift_adv_ajax.action_show_variation,pw_gift_variable:jQuery(this).data("id"),pw_gift_uid:jQuery(this).data("rule-id"),security:pw_wc_gift_adv_ajax.security},success:function(a){$(".wgb-popup-posts").html(a),$("body").addClass("modal-opened"),$(".wgb-popup-box").addClass("wgb-page-scaleUp"),$(".wgb-popup-box").addClass("wgb-page-current"),$(".wgb-popup").addClass("wgb-active-modal"),jQuery(".scrollbar-macosx").scrollbar()},error:function(){}}),$(document).keyup(function(a){"Escape"===a.key&&$(".wgb-popup-close").trigger("click")})}),jQuery(document).on("click",".wgb-popup-close",function(a){let b=$(this).closest(".wgb-popup");$(".wgb-loading-icon").addClass("wgb-d-none"),$(".wgb-popup-box").removeClass("wgb-page-scaleUp"),$(".wgb-popup-box").addClass("wgb-page-scaleDownUp"),setTimeout(function(){$("body").removeClass("modal-opened"),b.remove()},700),jQuery(".scrollbar-macosx").scrollbar("destroy")}),jQuery(document).on("click",".btn_select_gift_in_coupon",function(a){a.preventDefault(),jQuery(this).find(".wgb-loading-icon").removeClass("wgb-d-none"),$("body").append('<div id="wgb-modal" class="wgb-popup"><div class="wgb-page wgb-popup-box "><div class="wgb-popup-body"><div class="wgb-popup-close wgb-popup-close"><div class="wgb-leftright"></div><div class="wgb-rightleft"></div></div><div class="wgb-modal-cnt scrollbar-macosx wgb-popup-content wgb-row" ></div></div></div></div>'),$("#wgb-modal").css("display","block");var b={action:pw_wc_gift_adv_ajax.action_display_gifts_in_popup,security:pw_wc_gift_adv_ajax.security};$.ajax({type:"POST",url:pw_wc_gift_adv_ajax.ajaxurl,data:b,success:function(a){$(".wgb-popup-posts").html(a),$("body").addClass("modal-opened"),$(".wgb-popup-box").addClass("wgb-page-scaleUp"),$(".wgb-popup-box").addClass("wgb-page-current"),$(".wgb-popup").addClass("wgb-active-modal"),jQuery(".scrollbar-macosx").scrollbar()}}),$(document).keyup(function(a){"Escape"===a.key&&$(".wgb-popup-close").trigger("click")})})})